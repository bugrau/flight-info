{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./MyFlights.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MyFlights(){const[reservations,setReservations]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{fetchReservations();},[]);const fetchReservations=async()=>{try{const response=await axios.get('http://localhost:5000/api/reservations');setReservations(response.data);setLoading(false);}catch(err){setError('Failed to fetch reservations. '+err.message);setLoading(false);}};const formatTime=dateString=>{if(!dateString)return'N/A';const date=new Date(dateString);if(isNaN(date.getTime()))return'Invalid Date';return date.toLocaleString();};if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{children:error});return/*#__PURE__*/_jsxs(\"div\",{className:\"my-flights\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Flights\"}),reservations.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"You have no saved flights.\"}):/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Flight\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Destination\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Scheduled Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:reservations.map(reservation=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:reservation.flightName}),/*#__PURE__*/_jsx(\"td\",{children:reservation.flightNumber}),/*#__PURE__*/_jsx(\"td\",{children:reservation.destination}),/*#__PURE__*/_jsx(\"td\",{children:formatTime(reservation.scheduleTime)}),/*#__PURE__*/_jsx(\"td\",{children:reservation.status})]},reservation._id))})]})]});}export default MyFlights;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","MyFlights","reservations","setReservations","loading","setLoading","error","setError","fetchReservations","response","get","data","err","message","formatTime","dateString","date","Date","isNaN","getTime","toLocaleString","children","className","length","map","reservation","flightName","flightNumber","destination","scheduleTime","status","_id"],"sources":["C:/Users/bugra/Desktop/my projects/flight info/frontend/src/components/MyFlights.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './MyFlights.css';\r\n\r\nfunction MyFlights() {\r\n  const [reservations, setReservations] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchReservations();\r\n  }, []);\r\n\r\n  const fetchReservations = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:5000/api/reservations');\r\n      setReservations(response.data);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      setError('Failed to fetch reservations. ' + err.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatTime = (dateString) => {\r\n    if (!dateString) return 'N/A';\r\n    const date = new Date(dateString);\r\n    if (isNaN(date.getTime())) return 'Invalid Date';\r\n    return date.toLocaleString();\r\n  };\r\n\r\n  if (loading) return <p>Loading...</p>;\r\n  if (error) return <p>{error}</p>;\r\n\r\n  return (\r\n    <div className=\"my-flights\">\r\n      <h1>My Flights</h1>\r\n      {reservations.length === 0 ? (\r\n        <p>You have no saved flights.</p>\r\n      ) : (\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Flight</th>\r\n              <th>Number</th>\r\n              <th>Destination</th>\r\n              <th>Scheduled Time</th>\r\n              <th>Status</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {reservations.map((reservation) => (\r\n              <tr key={reservation._id}>\r\n                <td>{reservation.flightName}</td>\r\n                <td>{reservation.flightNumber}</td>\r\n                <td>{reservation.destination}</td>\r\n                <td>{formatTime(reservation.scheduleTime)}</td>\r\n                <td>{reservation.status}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyFlights;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}